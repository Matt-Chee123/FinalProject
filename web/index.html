<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="css/homeStyles.css">
    <link rel="stylesheet" href="css/searchStyles.css">
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/highcharts-more.js"></script>
  <script src="https://code.highcharts.com/modules/bullet.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
<div class="sidebar close">
  <div class="logo-details">
    <span class="logo_name"></span>
  </div>
  <ul class="nav-links">
    <li>
      <a href="index.html">
        <i class='bx bx-grid-alt' ></i>
        <span class="link_name">Homepage</span>
      </a>
      <ul class="sub-menu blank">
        <li><a class="link_name" href="#">Homepage</a></li>
      </ul>
    </li>
    <li>
      <div class="iocn-link">
        <a href="#">
          <i class='bx bx-collection' ></i>
          <span class="link_name">Institution Search</span>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Institution Search</a></li>
          </ul>
        </a>
        <i class='bx bxs-chevron-down arrow' ></i>
      </div>
      <ul class="sub-menu">
        <input type="text" id="searchInstitution" placeholder="Search...">
        <div id="suggestions-container" style="display:none;"></div>
      </ul>

    </li>
    <li>
      <a href="graphBuilder.html">
        <i class='bx bx-pie-chart-alt-2' ></i>
        <span class="link_name">Graph Builder</span>
      </a>
      <ul class="sub-menu blank">
        <li><a class="link_name" href="#">Graph Builder</a></li>
      </ul>
    </li>
  </ul>
</div>

<section class="home-section">
  <div class="home-content">
    <i class='bx bx-menu' ></i>
    <span class="text" id="title-text">REF2021</span>
    <span class="text">Institution:</span>
    <select id="institution-dropdown" class="unit-dropdown">
      <option value="Nation" selected>Nation</option>
      <!-- Additional institution options -->
    </select>
    <span class="text">UoA:</span>
    <select id="unit-of-assessment-dropdown" class="unit-dropdown">

    </select>
  </div>


  <!-- home page html -->
  <div class="main-container" id="homepage-section">
    <div class="left-components">
      <div class="component-bubble">
        <div class="bubble-content" id="top-three-records"></div>
      </div>
      <div class="component-bubble">
        <div class="bubble-content" id="bottom-three-records"></div>
      </div>
      <div class="component-bubble">
        <div class="bubble-content" id="top-sources-container"></div>
      </div>
      <div class="component-bubble">
        <div class="bubble-content" id="random-FTE-records"></div>

      </div>
      <div class="component-bubble">
        <div class="bubble-content" id="outputs-records"></div>
      </div>
      <div  class="component-bubble">
        <div class="bubble-content" id="bullet-graph-container"></div>
      </div>
    </div>
    <div class="right-homepage-container">
      <iframe src="ComputerScienceandInformatics_heatmap.html" frameborder="0" class="heatmap-iframe"></iframe>
    </div>
  </div>


<!-- inst search html -->


<div class="main-container" id="institution-section" style="display: none;">
  <div class="left-components">
    <div class="component-bubble">
      <div class="bubble-content" id="bullet-chart-container"></div>
    </div>
    <div class="component-bubble">
      <div class="bubble-content" id="search-results"></div>
    </div>
    <div class="component-bubble">
      <div class="bubble-content" id="income-chart-dist"></div>
    </div>
    <div class="component-bubble">
      <div class="bubble-content" id="income-container"></div>
    </div>
    <div class ="component-bubble">
      <div class="bubble-content" id="doctoral-degrees-container"></div>
    </div>


  </div>
  <div class="right-homepage-container">
    <div class="component-bubble" id="fte-income-container"></div>
    <div class="component-bubble" id="income-outputs"></div>
  </div>
</div>
</section>

<script>
  let arrow = document.querySelectorAll(".arrow");
  for (var i = 0; i < arrow.length; i++) {
    arrow[i].addEventListener("click", (e)=>{
   let arrowParent = e.target.parentElement.parentElement;//selecting main parent of arrow
   arrowParent.classList.toggle("showMenu");
    });
  }
  let sidebar1 = document.querySelector(".sidebar");
  let sidebarBtn = document.querySelector(".bx-menu");
  console.log(sidebarBtn);
  sidebarBtn.addEventListener("click", ()=>{
    sidebar1.classList.toggle("close");
  });
</script>
<script>
  // Select the Institution Search link
  let instSearchLink = document.querySelector('.iocn-link a');

  // Select the sidebar
  let sidebar2 = document.querySelector('.sidebar');

  // Add event listener for click event on the Institution Search link
  instSearchLink.addEventListener('click', (event) => {
      // Open the sidebar by removing the "close" class
      sidebar2.classList.remove('close');
      console.log('clicked');
      // Allow default behavior to navigate to the specified HTML page
      // Note: If the href attribute contains "#" you might need to prevent default behavior and manually navigate to the desired page using JavaScript
      // For example:
      // event.preventDefault();
      // window.location.href = instSearchLink.getAttribute('href');
  });

</script>

<!-- home page bubble scripts -->
<script src="homeScripts/top3.js"></script>
<script src="homeScripts/bottom3.js"></script>
<script src="homeScripts/outputs.js"></script>
<script src="homeScripts/nationalAverage.js"></script>
<script src="homeScripts/totalIncome.js"></script>
<script src="homeScripts/3fte.js"></script>

<!-- inst search bubble scripts -->
<script src="instSearchScripts/basicScores.js"></script>
<script src="instSearchScripts/title.js"></script>
<script src="instSearchScripts/incomeChart.js"></script>
<script src="instSearchScripts/fundingDist.js"></script>
<script src="instSearchScripts/doctoralDegreeGraph.js"></script>
<script src="instSearchScripts/fteToincome.js"></script>
<script src="instSearchScripts/uniRank.js"></script>
<script src="instSearchScripts/incomeOutputs.js"></script>

<!-- Handlers for the dropdowns -->
<script src="homeScripts/enterSearch.js"></script>
<script src="homeScripts/dropdownHomeHandler.js"></script>
<script src="homeScripts/uniDropdown.js"></script>
<script src="homeScripts/uoADropdown.js"></script>
<script src="instSearchScripts/insDropdownHandler.js"></script>

</body>
</html>
